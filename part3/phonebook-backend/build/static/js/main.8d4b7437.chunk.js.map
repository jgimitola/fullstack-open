{"version":3,"sources":["constants.js","services/contactService.js","Components/Filter.jsx","Components/PersonForm.jsx","Components/Person.jsx","Components/List.jsx","Components/Message.jsx","App.js","reportWebVitals.js","index.js"],"names":["URL","contactService","getAll","axios","get","then","res","data","create","person","post","remove","id","delete","update","put","Filter","filter","handleChangeFilter","type","value","onChange","PersonForm","newName","newNumber","handleChangeName","handleChangeNumber","handleSubmit","onSubmit","Person","name","number","stateModifiers","persons","showErrorMessage","setPersons","setFilteredPersons","onClick","event","preventDefault","window","confirm","newPersons","p","catch","List","filteredPersons","map","Message","message","className","App","useState","successMessage","setSuccessMessage","errorMessage","setErrorMessage","setNewName","setNewNumber","setFilter","useEffect","fetchedPersons","showSuccessMessage","setTimeout","fil","target","length","toLowerCase","includes","position","findIndex","newPerson","updatedPerson","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sNAAaA,EAAM,oCCqBJC,EADQ,CAAEC,OAhBV,WACb,OAAOC,IAAMC,IAAIJ,GAAKK,MAAK,SAACC,GAAD,OAASA,EAAIC,SAeTC,OAZlB,SAACC,GACd,OAAON,IAAMO,KAAKV,EAAKS,GAAQJ,MAAK,SAACC,GAAD,OAASA,EAAIC,SAWVI,OAR1B,SAACC,GACd,OAAOT,IAAMU,OAAN,UAAgBb,EAAhB,YAAuBY,IAAMP,MAAK,SAACC,GAAD,OAASA,EAAIC,SAOPO,OAJlC,SAACL,GACd,OAAON,IAAMY,IAAN,UAAaf,EAAb,YAAoBS,EAAOG,IAAMH,GAAQJ,MAAK,SAACC,GAAD,OAASA,EAAIC,U,OCTrDS,EARA,SAAC,GAAD,IAAGC,EAAH,EAAGA,OAAQC,EAAX,EAAWA,mBAAX,OACb,8BACE,mDAEE,uBAAOC,KAAK,SAASC,MAAOH,EAAQI,SAAUH,UCerCI,EAnBI,SAAC,GAAD,IACjBC,EADiB,EACjBA,QACAC,EAFiB,EAEjBA,UACAC,EAHiB,EAGjBA,iBACAC,EAJiB,EAIjBA,mBACAC,EALiB,EAKjBA,aALiB,OAOjB,uBAAMC,SAAUD,EAAhB,UACE,yCACQ,uBAAOP,MAAOG,EAASF,SAAUI,OAEzC,2CACU,uBAAOL,MAAOI,EAAWH,SAAUK,OAE7C,8BACE,wBAAQP,KAAK,SAAb,uBCsBSU,EAnCA,SAAC,GAOT,IANLjB,EAMI,EANJA,GACAkB,EAKI,EALJA,KACAC,EAII,EAJJA,OACAC,EAGI,EAHJA,eACAC,EAEI,EAFJA,QACAC,EACI,EADJA,iBAEQC,EAAmCH,EAAnCG,WAAYC,EAAuBJ,EAAvBI,mBAoBpB,OACE,8BACGN,EADH,IACUC,EACR,wBAAQM,QArBS,SAACC,GACpBA,EAAMC,iBACFC,OAAOC,QAAP,iBAAyBX,EAAzB,OACF7B,EACGU,OAAOC,GACPP,MAAK,WACJ,IAAMqC,EAAaT,EAAQhB,QAAO,SAAC0B,GAAD,OAAOA,EAAE/B,KAAOA,KAClDuB,EAAWO,GACXN,EAAmB,YAAIM,OAExBE,OAAM,WACLV,EAAiB,kBAAD,OACIJ,EADJ,mDAUpB,wBCVSe,EArBF,SAAC,GAAD,IACXC,EADW,EACXA,gBACAd,EAFW,EAEXA,eACAC,EAHW,EAGXA,QACAC,EAJW,EAIXA,iBAJW,OAMX,8BACGY,EAAgBC,KAAI,gBAAGnC,EAAH,EAAGA,GAAIkB,EAAP,EAAOA,KAAMC,EAAb,EAAaA,OAAb,OACnB,cAAC,EAAD,CAEEnB,GAAIA,EACJkB,KAAMA,EACNC,OAAQA,EACRC,eAAgBA,EAChBC,QAASA,EACTC,iBAAkBA,GANbtB,SCPEoC,EAJC,SAAC,GAAuB,IAArB7B,EAAoB,EAApBA,KAAM8B,EAAc,EAAdA,QACvB,OAAKA,EACE,mBAAGC,UAAoB,UAAT/B,EAAmB,QAAU,UAA3C,SAAuD8B,IADzC,MCkIRE,EAzHH,WAAO,IAAD,EAC4BC,qBAD5B,mBACTC,EADS,KACOC,EADP,OAEwBF,qBAFxB,mBAETG,EAFS,KAEKC,EAFL,OAIcJ,mBAAS,IAJvB,mBAITnB,EAJS,KAIAE,EAJA,OAK8BiB,mBAAS,IALvC,mBAKTN,EALS,KAKQV,EALR,OAOcgB,mBAAS,IAPvB,mBAOT7B,EAPS,KAOAkC,EAPA,OAQkBL,mBAAS,IAR3B,mBAQT5B,EARS,KAQEkC,EARF,OASYN,mBAAS,IATrB,mBASTnC,EATS,KASD0C,EATC,KAWhBC,qBAAU,WACR3D,EAAeC,SAASG,MAAK,SAACwD,GAC5B1B,EAAW0B,GACXzB,EAAmByB,QAEpB,IAEH,IAAMC,EAAqB,SAACb,GAC1BK,EAAkBL,GAClBc,YAAW,WACTT,EAAkB,QACjB,OAiEL,OACE,gCACE,2CAEA,cAAC,EAAD,CAASnC,KAAK,UAAU8B,QAASI,IACjC,cAAC,EAAD,CAASlC,KAAK,QAAQ8B,QAASM,IAE/B,cAAC,EAAD,CAAQtC,OAAQA,EAAQC,mBAnBD,SAACoB,GAC1B,IAAM0B,EAAM1B,EAAM2B,OAAO7C,MACrB4C,EAAIE,OAAS,EACf9B,EACEH,EAAQhB,QAAO,SAAC0B,GAAD,OAAOA,EAAEb,KAAKqC,cAAcC,SAASJ,OAGtD5B,EAAmB,YAAIH,IAEzB0B,EAAUK,MAYR,2CAEA,cAAC,EAAD,CACEzC,QAASA,EACTC,UAAWA,EACXC,iBAAkB,SAACa,GACjBmB,EAAWnB,EAAM2B,OAAO7C,QAE1BM,mBAAoB,SAACY,GACnBoB,EAAapB,EAAM2B,OAAO7C,QAE5BO,aA3Ee,SAACW,GACpBA,EAAMC,iBACN,IAAM8B,EAAWpC,EAAQqC,WAAU,SAAC3B,GAAD,OAAOA,EAAEb,OAASP,KACrD,IAAkB,IAAd8C,EAAiB,CACnB,IAAME,EAAY,CAChBzC,KAAMP,EACNQ,OAAQP,EACRZ,GAAIqB,EAAQiC,OAAS,GAGvBjE,EAAeO,OAAO+D,GAAWlE,MAAK,WACpC,IAAMqC,EAAU,sBAAOT,GAAP,CAAgBsC,IAChCpC,EAAWO,GACXN,EAAmB,YAAIM,IACvBiB,EAAU,IAEVG,EAAmB,GAAD,OAAIS,EAAUzC,KAAd,6BAGpB,GACEU,OAAOC,QAAP,UACKlB,EADL,2EAGA,CACA,IAAMiD,EAAa,2BAAQvC,EAAQoC,IAAhB,IAA2BtC,OAAQP,IACtDvB,EAAea,OAAO0D,GAAenE,MAAK,SAACE,GACzC,IAAMmC,EAAaT,EAAQc,KAAI,SAACJ,GAAD,OAC7BA,EAAE/B,KAAO4D,EAAc5D,GAAK+B,EAAI6B,KAElCrC,EAAWO,GACXN,EAAmB,YAAIM,IACvBiB,EAAU,IAEVG,EAAmB,GAAD,OACbU,EAAc1C,KADD,mCAMxB2B,EAAW,IACXC,EAAa,OAsCX,yCACA,cAAC,EAAD,CACEZ,gBAAiBA,EACjBb,QAASA,EACTD,eAAgB,CAAEG,aAAYC,sBAC9BF,iBA1FmB,SAACe,GACxBO,EAAgBP,GAChBc,YAAW,WACTP,EAAgB,QACf,aC3BQiB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBtE,MAAK,YAAkD,IAA/CuE,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCFdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.8d4b7437.chunk.js","sourcesContent":["export const URL = \"http://localhost:3001/api/persons\";\n","import axios from \"axios\";\n\nimport { URL } from \"../constants\";\n\nconst getAll = () => {\n  return axios.get(URL).then((res) => res.data);\n};\n\nconst create = (person) => {\n  return axios.post(URL, person).then((res) => res.data);\n};\n\nconst remove = (id) => {\n  return axios.delete(`${URL}/${id}`).then((res) => res.data);\n};\n\nconst update = (person) => {  \n  return axios.put(`${URL}/${person.id}`, person).then((res) => res.data);\n};\n\nconst contactService = { getAll, create, remove, update };\nexport default contactService;\n","const Filter = ({ filter, handleChangeFilter }) => (\n  <div>\n    <p>\n      filter shown with:\n      <input type=\"search\" value={filter} onChange={handleChangeFilter} />\n    </p>\n  </div>\n);\nexport default Filter;\n","const PersonForm = ({\n  newName,\n  newNumber,\n  handleChangeName,\n  handleChangeNumber,\n  handleSubmit,\n}) => (\n  <form onSubmit={handleSubmit}>\n    <div>\n      name: <input value={newName} onChange={handleChangeName} />\n    </div>\n    <div>\n      number: <input value={newNumber} onChange={handleChangeNumber} />\n    </div>\n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n  </form>\n);\nexport default PersonForm;\n","import contactService from \"../services/contactService\";\n\nconst Person = ({\n  id,\n  name,\n  number,\n  stateModifiers,\n  persons,\n  showErrorMessage,\n}) => {\n  const { setPersons, setFilteredPersons } = stateModifiers;\n\n  const handleDelete = (event) => {\n    event.preventDefault();\n    if (window.confirm(`Delete ${name}?`)) {\n      contactService\n        .remove(id)\n        .then(() => {\n          const newPersons = persons.filter((p) => p.id !== id);\n          setPersons(newPersons);\n          setFilteredPersons([...newPersons]);\n        })\n        .catch(() => {\n          showErrorMessage(\n            `Information of ${name} has already been removed from the server.`\n          );\n        });\n    }\n  };\n\n  return (\n    <p>\n      {name} {number}\n      <button onClick={handleDelete}>Delete</button>\n    </p>\n  );\n};\nexport default Person;\n","import Person from \"./Person\";\n\nconst List = ({\n  filteredPersons,\n  stateModifiers,\n  persons,\n  showErrorMessage,\n}) => (\n  <div>\n    {filteredPersons.map(({ id, name, number }) => (\n      <Person\n        key={id}\n        id={id}\n        name={name}\n        number={number}\n        stateModifiers={stateModifiers}\n        persons={persons}\n        showErrorMessage={showErrorMessage}\n      />\n    ))}\n  </div>\n);\n\nexport default List;\n","const Message = ({ type, message }) => {\n  if (!message) return null;\n  return <p className={type === \"error\" ? \"error\" : \"success\"}>{message}</p>;\n};\nexport default Message;\n","import { useState, useEffect } from \"react\";\nimport \"./index.css\";\n\nimport contactService from \"./services/contactService\";\n\nimport Filter from \"./Components/Filter\";\nimport PersonForm from \"./Components/PersonForm\";\nimport List from \"./Components/List\";\nimport Message from \"./Components/Message\";\n\nconst App = () => {\n  const [successMessage, setSuccessMessage] = useState();\n  const [errorMessage, setErrorMessage] = useState();\n\n  const [persons, setPersons] = useState([]);\n  const [filteredPersons, setFilteredPersons] = useState([]);\n\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n\n  useEffect(() => {\n    contactService.getAll().then((fetchedPersons) => {\n      setPersons(fetchedPersons);\n      setFilteredPersons(fetchedPersons);\n    });\n  }, []);\n\n  const showSuccessMessage = (message) => {\n    setSuccessMessage(message);\n    setTimeout(() => {\n      setSuccessMessage(null);\n    }, 2500);\n  };\n\n  const showErrorMessage = (message) => {\n    setErrorMessage(message);\n    setTimeout(() => {\n      setErrorMessage(null);\n    }, 2500);\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const position = persons.findIndex((p) => p.name === newName);\n    if (position === -1) {\n      const newPerson = {\n        name: newName,\n        number: newNumber,\n        id: persons.length + 1,\n      };\n\n      contactService.create(newPerson).then(() => {\n        const newPersons = [...persons, newPerson];\n        setPersons(newPersons);\n        setFilteredPersons([...newPersons]);\n        setFilter(\"\");\n\n        showSuccessMessage(`${newPerson.name} has been added.`);\n      });\n    } else {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        const updatedPerson = { ...persons[position], number: newNumber };\n        contactService.update(updatedPerson).then((data) => {\n          const newPersons = persons.map((p) =>\n            p.id !== updatedPerson.id ? p : updatedPerson\n          );\n          setPersons(newPersons);\n          setFilteredPersons([...newPersons]);\n          setFilter(\"\");\n\n          showSuccessMessage(\n            `${updatedPerson.name}'s number has been updated.`\n          );\n        });\n      }\n    }\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const handleChangeFilter = (event) => {\n    const fil = event.target.value;\n    if (fil.length > 0) {\n      setFilteredPersons(\n        persons.filter((p) => p.name.toLowerCase().includes(fil))\n      );\n    } else {\n      setFilteredPersons([...persons]);\n    }\n    setFilter(fil);\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Message type=\"success\" message={successMessage} />\n      <Message type=\"error\" message={errorMessage} />\n\n      <Filter filter={filter} handleChangeFilter={handleChangeFilter} />\n\n      <h2>add a new</h2>\n\n      <PersonForm\n        newName={newName}\n        newNumber={newNumber}\n        handleChangeName={(event) => {\n          setNewName(event.target.value);\n        }}\n        handleChangeNumber={(event) => {\n          setNewNumber(event.target.value);\n        }}\n        handleSubmit={handleSubmit}\n      />\n\n      <h2>Numbers</h2>\n      <List\n        filteredPersons={filteredPersons}\n        persons={persons}\n        stateModifiers={{ setPersons, setFilteredPersons }}\n        showErrorMessage={showErrorMessage}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}